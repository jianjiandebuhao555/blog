---
title: chia 说明及相关教程
tags:
  - chia
  - 教程
categories:
  - chia
cover: /img/chia/chia_logo.svg
feature: false
date: 2021-04-25 20:58:58
preview:
---

> `Chia`(奇亚)于2017年8月注册成立，旨在开发一个改进的区块链和智能交易平台。我们正在构建`Chia`网络，以改善全球金融和支付系统。`Chia`将成为第一个企业级数字货币。Chia使用的是比特币以来第一个新的中本聪共识算法。它被称为 "空间和时间证明"（`Proof of Space and Time`），是由目前最优秀的网络协议工程师、`BitTorrent`的发明者`Bram Cohen`创建的。`Chialisp`是`Chia`新推出的智能交易编程语言，功能强大、易于审核、安全。目前可供参考的智能交易有：原子交换、授权收款人、可恢复钱包、多重签名钱包和限价钱包。

<!--more-->

![`chia`](/img/chia/0.png)

-------

### `Chia`(奇亚)参数

> - 名称：`Chia`
> - 中文名称：奇亚
> - 缩写：`XCH`
> - 是否`ICO`：否
> - 是否预挖：2100万个作为战略储备，详情查看商业白皮书
> - 每块收益：每10分钟64个`Chia`奖励
> - 减半策略：3年一减半，第十三年起每10分钟4`Chia`

### 和传统挖矿的区别

> 与`BTC`、`ETH`采用工作量证明（`POW`）不同的是，`Chia`(奇亚)采用"空间和时间证明"（`Proof of Space and Time`），利用存储设备（电脑、服务器、`NAS`、树莓派）中的剩余存储空间进行挖矿。

> 在开始挖矿之前需要在闲置硬盘空间进行播种（`plots`），然后农民（`farmer`）在已经播种好的`P盘`文件（`plots files`）上寻找最佳爆块答案。`Chia`硬盘挖矿的本质就是先将加密数据写入硬盘（`plots`过程），然后挖矿程序在P盘文件中寻找最优答案（`farmer`过程），所以你的`P`盘文件总容量相对于全网容量占比越高，越容易爆块，对应的挖矿收益也越高。

> 播种的过程需要占用`CPU`、内存（每个P盘线程默认需要`4G`内存空间）和硬盘临时空间（生成`K = 32`规格的播种文件大概需要占用`332G`临时空间）。因此播种（`Plots`）的过程建议采用性能较好的`CPU`、`16G`以上内存和固态硬盘（建议合计`2T`以上的`M2.NVME`协议`SSD`）

-------

### 挖矿教程

1、下载最新版`Chia-Blockchain`重钱包。
- [官方下载地址](https://github.com/Chia-Network/chia-blockchain/releases)

![](/img/chia/1.png)

2、以管理员身份运行安装程序

![](/img/chia/2.png)

3、安装完成后`Chia`重钱包将会自动运行，首次运行需要创建一个新的秘钥

![](/img/chia/3.png)

![秘钥生成中](/img/chia/4.png)

4、备份助记词，建议用截图的方式进行妥善保存。助记词是恢复钱包的重要途径之一，因此非常重要，千万不要遗失或者泄露给他人。

![](/img/chia/5.png)

5、备份好助记词以后，点击下一步钱包即可顺利运行。

![](/img/chia/6.png)

6、点击左侧`Plots`菜单进入`P`盘管理界面，在P盘管理界面点击 “`ADD A LOT`”按钮创建一个P盘任务

![](/img/chia/7.png)

7、`P`盘文件格式选择`K=32`，新手第一次播种`P`盘文件数量建议选择`1`，临时存储空间选择`SSD`固态硬盘（`1`个`P`盘线程需要占用`332G`的临时空间，空间太小会造成播种失败），最终`P`盘文件存放路径可以选择机械硬盘的分区，`K=32`规格的`P`盘文件最终会占用`101.4G`硬盘空间。

![](/img/chia/8.png)

8、P盘完成且钱包区块更新至最新后，就开启了挖矿之旅。

![](/img/chia/9.png)

![](/img/chia/10.png)

-------

### 命令行P盘操作(安全稳定的 `CLI` 命令行)

> 图形界面有时候会有不稳定的情况发生，用更直观和稳定的官方钱包 `CLI` 命令行可以解决这个问题。请注意，这个不是矿池的P盘工具，所以不用担心秘钥泄露的风险。

> `GUI` 是 `Chia.exe`，`CLI`是 `chia.exe`。它们位于不同的地方。请注意，大`C`与小`c`。

> 现在我们用到的是`chia.exe`

**在哪里可以找到`chia.exe`？**

> 打开资源管理器，注意点击查看勾选隐藏的项目复选框，具体路径如下：

```markdown

C:\Users\Administrator\AppData\Local\chia-blockchain\app-1.1.2\resources\app.asar.unpacked\daemon

```

*`C:\Users\Administrator`可能会根据你的计算机当前登陆用户不同改变，注意灵活匹配。*

![](/img/chia/p1.png)

> 右键空白处我们新建一个文本文档并编辑该文档内容，存为扩展名为`.bat`的批处理文档

```markdown

chia keys show
pause

```
> 文件名可以随意，我这里习惯更改为 `chia.bat`，特别注意要更改扩展名

> 运行该批处理文件，得到我们的公共指纹、农民公钥`Farmer public key (fpk)`、矿池公钥`Pool public key (ppk)`三个数值

![得到三个数值](/img/chia/p2.png)

> 确认密钥公共指纹一致

![](/img/chia/p3.png)

> 重复刚才新建文本文档的步骤，我们新建一个执行`P`盘命令的`bat`批处理文件，请各位自行更改参数。

```markdown

chia plots create -k 32 -a 填入公共指纹 -f 填入fpk值 -p 填入ppk值 -n 1 -d W:\ -t E:\ -2 E:\ -b 8000 -r 2 -u 128
pause

```

##### CLI各种参数

> `-k` [`size`]。定义绘图`p`盘的大小。不同的`k`大小对应的`P`盘文件规格：

![](/img/chia/p4.png)

> `-n` [绘图数量]。按顺序进行的绘图数量。一旦一个绘图完成，它将被移动到最终位置`-d`，然后再开始下一个绘图序列。

> `-b` [内存缓冲区大小`MiB`]。定义内存/`RAM`使用量。更多的内存将略微提高绘图的速度。请记住，这只是分配给绘图算法的内存。运行钱包等将需要你的系统提供额外的内存。

> `-f` [`farmer pk`]: 这是你的 "`fpk`". 当你想在其他机器上创建`P`盘文件时，如果你不想给`chia`账户完整的访问权限，就可以使用这个密钥。要找到你的 `Chia` 农民公钥，请使用以下命令： `chia keys show`

> `-p` [`pool pk`]。这是你的 "`ppk`". 当你想在其他机器上创建`P`盘文件时，如果你不想给`chia`账户完整的访问权限时，就可以使用它。要找到你的 `Chia Pool` 公钥，请使用下面的命令： `chia keys show`

> `-a` [`fingerprint`]。公共指纹。当你想从钥匙链中的多个钥匙中选择一个时，请使用这个命令。要找到你的 `Chia` 密钥指纹，请使用以下命令： `chia keys show`

> `-t` [`tmp dir`]。定义`P`盘时的临时目录。这里是`P`盘的第一阶段和第二阶段需要使用。`-t` 路径需要最大的工作空间：通常是最终`plot`文件大小的 `3-4` 倍左右。

> `-2` [`tmp dir 2`]: 定义一个次要的临时目录，用于存放P盘临时文件。这是绘图阶段3（压缩）和阶段4（检查）发生的地方。根据您的操作系统，`-2`可能默认为`-t`或`-d`的相同路径。因此，如果`-t`或`-d`的空间不足，建议手动设置`-2`。`-2` 路径需要的工作空间与绘图的最终大小相等。

> `-d` [`final dir`]: 定义存储`plot`文件的最终位置。当然，`-d` 应该有足够的可用空间作为`Plot`文件的最终大小。这个目录会自动添加到 `~/.chia/VERSION/config/config.yaml` 文件中。你可以使用 `chia plots remove -d` 从配置中删除一个最终目录。

> `-r` [线程数]: `2`线程通常是最佳的。多线程目前只在`P`盘第一阶段使用。

> `-u` [`buckets`数量]。更多的数据包可以减少对内存的需求，但需要更多的随机磁盘搜索。对于机械磁盘，你需要设置更少的`buckets`，而对于`NVMe`固态硬盘，你可以设置更多的`buckets`。一般来说，你可以设置`32`、`64`或`128`（默认）

> `-s` [`stripe size`]。这是在第一阶段进行并行工作负载时，交给每个线程的数据量。默认的`64K`似乎是整体的最佳选择。`32K`往往是小损失，`128K`也是小损失。

> `-e` [`bitfield plotting`]。使用`-e`标志将禁用`bitfield` `P`盘算法，并恢复到旧的`b17`的`P`盘格式。它降低了对内存的要求，但在`P`盘时时也会多写`12%`的数据。它通常被认为是一个更快的选项，适用于更快的驱动器，如`SSD`。

- 在绘图`P`盘过程中，阶段1（填充）和阶段3（压缩）花费最多的时间。因此，最大限度地提高绘图速度，`-t`并且`-2`应该在你的速度最快的硬盘(`SSD`)，并且`-d`可以是一个机械盘上。

- 从客观上讲，使用`SSD`替代`HDD`更快。但是，`SSD`的使用寿命有限。

-------

### 常见问题解答

- Q：`chia`挖矿软件可以识别出不同盘符下`p`好的文件吗？比如说我先把`4TB`的`D`盘`p`满了，然后接着`p`另一个`E`盘，那么`chia`挖矿软件可以同时识别`D`盘和`E`下`p`好的文件吗？

- A：完全可以，钱包绘图界面-点击右上角-添加农田文件目录 设置多个路径即可。


- Q：可以在矿池挖吗？比如某`POOL`。。

- A：其实个人更建议当前状态下进行`SOLO`，因为当前官方并没有出`pool`协议，`*pool`是用另外的方法实现矿池挖矿的。如果以后成熟了再更新。如果你算力太小无所谓当我没说。


- Q :我有`1`个`1T Nvme SSD`,我最好同时P几个图呢？

- `800G = 3` `1T = 4` `1.6T = 7` `1.8T = 8` `2T = 9` 以此类推即可


- Q :状态一直显示不同步是什么原因？

- A：有三种原因
  1、节点不通，添加钱包节点，端口都是`8444`
  2、`UPNP`或端口转发没有打开，网络封锁端口`8444`
  3、系统时钟必须为正确时间
  4、钱包存储损坏

-------

**`Chia`(奇亚)资料库**

[`Chia`(奇亚)官网](https://www.chia.net/)

[区块浏览器](https://www.chiaexplorer.com/)

[`Github`源码库](https://github.com/Chia-Network)

[技术绿皮书](https://www.chia.net/assets/ChiaGreenPaper.pdf)

-------